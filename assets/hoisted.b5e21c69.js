import"./hoisted.86c94afe.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./hoisted.e4b9fc9f.js";import"./mee-js-sdk.es.4908cffa.js";window.onbeforeunload=function(){window.scrollTo(0,0)};const E=document.querySelectorAll(".envision .section"),r=document.getElementById("slides-section"),l=document.querySelectorAll(".slide"),c=document.getElementById("title"),f=document.getElementById("envision");let n=!0,v=!1,i=0;const I=()=>{v||(v=!0,window.location.href="/from-envision")},p={threshold:.8},b=new IntersectionObserver((e,s)=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.remove("opacity-0"),t.target.querySelector(".subtitle")?.classList.remove("opacity-0"),t.target.querySelector(".subtitle")?.classList.add("animate-riseIn-short","animation-delay-600"))})},p);E.forEach(e=>{b.observe(e)});let a;const q=(e,s)=>{let t=s*30,o=(s+e)*30;o>100?o=100:o<0&&(o=0),t>100?t=100:t<0&&(t=0),a&&clearInterval(a),document.documentElement.style.setProperty("--bg-offset",t.toString()+"vh");let u=0;a=setInterval(()=>{u++,t<o&&e===1||t>o&&e===-1?(t=t+u*e*.005,document.documentElement.style.setProperty("--bg-offset",t.toString()+"vh")):a&&clearInterval(a)},10)};let d=0;const w=e=>{if(m(),n){const s=Math.sign(e.deltaY);d=d+e.deltaY,(d>500||d<-500)&&(L(s),d=0)}};let h=0,g=0;const S=e=>!!e.target.closest("#header"),x=e=>{m(),n&&!S(e)&&(h=e.touches[0]?.clientY??0)},T=e=>{m(),n&&(g=e.touches[0]?.clientY??0)},k=e=>{if(m(),n&&!S(e)){const s=h>g?1:-1;L(s)}},m=()=>{(document.body.scrollTop||document.documentElement.scrollTop)===0&&!n&&(n=!0)},A=()=>{r?.classList.remove("slider-locked")},L=e=>{if(r?.classList.contains("slider-locked"))return;r?.classList.add("slider-locked");const s=i+e;if(s<0&&e===-1){I(),n=!1;return}if(i===l.length-1&&s===l.length-2&&f?.classList.add("fixed"),s>l.length-1&&e===1){r?.classList.remove("slider-locked"),n=!1;return}s===l.length-1&&e===1&&(setTimeout(()=>{f?.classList.remove("fixed")},1e3),n=!1,r?.classList.remove("slider-locked")),q(e,i),i=s,(i>0||i<l.length-1)&&c?.querySelector(".text")?.classList.contains("opacity-0")?(c?.querySelector(".text")?.classList.remove("opacity-0"),c?.querySelector(".text")?.classList.add("animate-riseIn")):(i===0||i===l.length-1)&&!c?.classList.contains("opacity-0")&&(c?.querySelector(".text")?.classList.add("opacity-0"),c?.querySelector(".text")?.classList.remove("animate-riseIn")),y()},y=()=>{l.forEach((e,s)=>{const t=s===i,o=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(o?.classList.add("animate-fadeOut","opacity-0"),o?.classList.remove("animate-riseIn")):t&&(o?.classList.remove("opacity-0","animate-fadeOut"),o?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",t)},300)})};window.onload=()=>{y()};document.addEventListener("wheel",w);document?.addEventListener("touchstart",x);document?.addEventListener("touchmove",T);document?.addEventListener("touchend",k);r?.addEventListener("transitionend",A);
