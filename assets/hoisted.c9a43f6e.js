import"./hoisted.ee572395.js";import"./hoisted.04e10177.js";import"./mee-js-sdk.es.ed8c063b.js";const De=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Fe=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Le=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Fe(n.overflowY,t)||Fe(n.overflowX,t)||(o=>{const s=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!s&&(s.clientHeight<o.scrollHeight||s.clientWidth<o.scrollWidth)})(e)}return!1},oe=(e,t,n,o,s,i,r,l)=>i<e&&r>t||i>e&&r<t?0:i<=e&&l<=n||r>=t&&l>=n?i-e-o:r>t&&l<n||i<e&&l>n?r-t+s:0,ht=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ue=(e,t)=>{var n,o,s,i;if(typeof document>"u")return[];const{scrollMode:r,block:l,inline:d,boundary:L,skipOverflowHiddenElements:mt}=t,ft=typeof L=="function"?L:N=>N!==L;if(!De(e))throw new TypeError("Invalid target");const Ae=document.scrollingElement||document.documentElement,F=[];let u=e;for(;De(u)&&ft(u);){if(u=ht(u),u===Ae){F.push(u);break}u!=null&&u===document.body&&Le(u)&&!Le(document.documentElement)||u!=null&&Le(u,mt)&&F.push(u)}const O=(o=(n=window.visualViewport)==null?void 0:n.width)!=null?o:innerWidth,H=(i=(s=window.visualViewport)==null?void 0:s.height)!=null?i:innerHeight,{scrollX:M,scrollY:P}=window,{height:x,width:Y,top:U,right:ge,bottom:pe,left:V}=e.getBoundingClientRect();let m=l==="start"||l==="nearest"?U:l==="end"?pe:U+x/2,f=d==="center"?V+Y/2:d==="end"?ge:V;const Ee=[];for(let N=0;N<F.length;N++){const c=F[N],{height:j,width:X,top:G,right:ye,bottom:Se,left:Z}=c.getBoundingClientRect();if(r==="if-needed"&&U>=0&&V>=0&&pe<=H&&ge<=O&&U>=G&&pe<=Se&&V>=Z&&ge<=ye)return Ee;const z=getComputedStyle(c),J=parseInt(z.borderLeftWidth,10),K=parseInt(z.borderTopWidth,10),Q=parseInt(z.borderRightWidth,10),ee=parseInt(z.borderBottomWidth,10);let y=0,S=0;const te="offsetWidth"in c?c.offsetWidth-c.clientWidth-J-Q:0,ne="offsetHeight"in c?c.offsetHeight-c.clientHeight-K-ee:0,ke="offsetWidth"in c?c.offsetWidth===0?0:X/c.offsetWidth:0,qe="offsetHeight"in c?c.offsetHeight===0?0:j/c.offsetHeight:0;if(Ae===c)y=l==="start"?m:l==="end"?m-H:l==="nearest"?oe(P,P+H,H,K,ee,P+m,P+m+x,x):m-H/2,S=d==="start"?f:d==="center"?f-O/2:d==="end"?f-O:oe(M,M+O,O,J,Q,M+f,M+f+Y,Y),y=Math.max(0,y+P),S=Math.max(0,S+M);else{y=l==="start"?m-G-K:l==="end"?m-Se+ee+ne:l==="nearest"?oe(G,Se,j,K,ee+ne,m,m+x,x):m-(G+j/2)+ne/2,S=d==="start"?f-Z-J:d==="center"?f-(Z+X/2)+te/2:d==="end"?f-ye+Q+te:oe(Z,ye,X,J,Q+te,f,f+Y,Y);const{scrollLeft:Re,scrollTop:_e}=c;y=Math.max(0,Math.min(_e+y/qe,c.scrollHeight-j/qe+ne)),S=Math.max(0,Math.min(Re+S/ke,c.scrollWidth-X/ke+te)),m+=_e-y,f+=Re-S}Ee.push({el:c,top:y,left:S})}return Ee},wt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function $e(e,t){if(!e.isConnected||!(o=>{let s=o;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(Ue(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:s,left:i}of Ue(e,wt(t)))o.scroll({top:s,left:i,behavior:n})}window.onbeforeunload=function(){window.scrollTo(0,0)};const k=5,Oe=6,vt="today",gt="env",Ve=document.getElementById("scroll-nav-bar");let v="today",p=0;const se=e=>e==="today"?"section":"en-section",W=(e,t)=>{if(Be(se(e),t),v===e)je(se(e),t);else{v=e;const n=e==="today"?"scrollToToday":"scrollToEnv",o=new CustomEvent(n,{detail:t});window.dispatchEvent(o),setTimeout(()=>{je(se(e),t),Be(se(e),t)},1e3)}};document.body.onkeydown=function(e){e.code==="ArrowLeft"&&(v==="env"&&p===0?W("today",k-1):p>0&&W(v,p-1)),e.code==="ArrowRight"&&(v==="today"&&p===k-1?W("env",0):(p<k-1&&v==="today"||p<Oe-1&&v==="env")&&W(v,p+1))};const it=(e,t)=>{const n=document.createElement("div");n.id=`${e}-bit-progress-${t}`,n.className="bit-progress absolute top-0 left-0 h-6 sm:h-[6px]";const o=document.createElement("div");o.id=`${e}-bit-${t}`,o.className="bit overflow-hidden relative w-full first:rounded-l-full last:rounded-r-full nav-bar-bit h-6 sm:h-[6px]",o.append(n),Ve&&Ve.append(o);const s=document.getElementById(`${e}-bit-${t}`);s&&s.addEventListener("click",()=>{W(e,t)})};for(let e=0;e<k;e++)it(vt,e);for(let e=0;e<Oe;e++)it(gt,e);const je=(e,t)=>{const n=document.getElementById(`${e}-${t}`);p=t,n&&$e(n,{behavior:s=>s.forEach(({el:i,top:r,left:l})=>{const d=e==="section"&&t===0?r-screen.height/2:r;i.scrollTop=d,i.scrollLeft=l})});const o=new CustomEvent("scrolledTo",{detail:{section:e,index:t}});window.dispatchEvent(o)};window.addEventListener("onCurrentIndexChanged",e=>{p=e.detail});window.addEventListener("needSyncStatusBar",e=>{const t=e.detail;Be(t.section,t.index)});const Be=(e,t)=>{setTimeout(()=>{for(let n=0;n<k;n++){const o=document.getElementById(`today-bit-progress-${n}`);o&&(e==="section"&&t<=n?o.style.width="0%":o.style.width="100%")}for(let n=0;n<Oe;n++){const o=document.getElementById(`env-bit-progress-${n}`);o&&(e==="en-section"?t<=n?o.style.width="0%":o.style.width="100%":o.style.width="0%")}},200)};window.addEventListener("envSectionShown",()=>{v="env"});window.addEventListener("todaySectionShown",()=>{v="today"});const pt=document.querySelectorAll(".today .section"),Xe=document.querySelector(".scrollIconContainer"),He=document.querySelector(".shadow"),Me=document.getElementById("title"),Et=document.querySelector(".figuresContainer"),yt=document.querySelector(".grid"),St=document.querySelectorAll(".floatGradient"),Pe=document.getElementById("mainLogo"),we=document.getElementById("envision"),Lt=document.getElementById("bleachAnimation");let a=0;const lt=document.getElementById("en-section-0"),Ge=100,Ze=.02;let I=!1,ze=!1;const It=5,bt=5;let w=document.body.scrollTop||document.documentElement.scrollTop,C=!1;const ie=document.getElementById("animation-control");let h=0,Je=0,Ke;const Tt=5,Bt=15;let ve=!1;const b=document.getElementById("animation-play-pause-btn");let q=0,_=window.scrollY;const ct=()=>{q!==0&&clearInterval(q),q=setInterval(()=>{window.scrollY>=_&&(window.scrollTo(0,window.scrollY+Tt),_=window.scrollY)},Bt)},Ct=3e3,$t=5e3;let de,Ce,T=!1;B();function Ot(){T&&ct()}function B(){T&&(T=!1,clearInterval(Ce)),de!==null&&clearTimeout(de),de=setTimeout(function(){T||(dt(),T=!0,Ce=setInterval(Ot,$t))},Ct)}function xe(){clearTimeout(de),clearInterval(Ke),Ke=0,clearInterval(q),q=0,clearInterval(Ce),window.removeEventListener("wheel",B),window.removeEventListener("keypress",B),window.removeEventListener("scroll",xe)}const Ye=()=>{B(),window.addEventListener("wheel",B),window.addEventListener("keypress",B)};Ye();const rt=()=>{b&&(b.classList.remove("pause"),b.classList.add("play"),ve=!1)},dt=()=>{b&&(b.classList.add("pause"),b.classList.remove("play"),ve=!0,ct())};b?.addEventListener("click",()=>{ve?(rt(),xe()):(dt(),Ye())});window.addEventListener("envSectionChanged",e=>{const t=e.detail,n=Number(t.slice(-1));ve&&n===bt-1&&Je===0&&Ye(),Je=n});window.addEventListener("atTheAppLinks",()=>{rt(),xe()});let Ie;const Ht={threshold:0,rootMargin:"-40% 0% -60%"},Mt=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){if(n.target.id==="animationTrigger"&&a<=0&&!C&&(Me?.classList.add("animate-fadeOut","titleBleach"),n.target.querySelector(".subtitle")?.classList.add("animate-fadeOut","titleBleach"),yt?.classList.add("animate-fadeOut","figuresBleach"),Et?.classList.add("animate-collapse3d","figuresBleach"),St.forEach(i=>{i.removeAttribute("style"),i.classList.add("animate-fadeOut","figuresBleach")}),He?.classList.add("bg-1"),!I)){I=!0,ie?.classList.add("opacity-0");let i=setInterval(()=>{if(a<1)a=a+Ze,document.documentElement.style.setProperty("--bleachProgress",a.toString());else{setTimeout(()=>{I=!1;const d=new CustomEvent("needSyncStatusBar",{detail:{section:"en-section",index:0}});window.dispatchEvent(d);const L=new CustomEvent("scrolledTo",{detail:{section:"en-section",index:0}});window.dispatchEvent(L),ie?.classList.remove("opacity-0"),Ie=Date.now()},1e3),clearInterval(i),Ne(0);const r=new CustomEvent("onCurrentIndexChanged",{detail:0});window.dispatchEvent(r);const l=new CustomEvent("envSectionShown");window.dispatchEvent(l)}},Ge)}const o=5e3,s=Date.now()-Ie>o;if(console.log("g",Date.now()-Ie),n.target.id==="animationTrigger"&&a>0&&!C&&s&&(we?.classList.add("hidden"),Pe?.classList.remove("logo--contrast"),lt?.classList.add("opacity-0"),!I)){I=!0,ie?.classList.add("opacity-0");const i=new CustomEvent("todaySectionShown");window.dispatchEvent(i);let r=setInterval(()=>{a>0?(a=a-Ze,document.documentElement.style.setProperty("--bleachProgress",a.toString())):(setTimeout(()=>{I=!1;const l=document.getElementById("section-4");if(l&&!h){$e(l);const d=new CustomEvent("needSyncStatusBar",{detail:{section:"section",index:4}});window.dispatchEvent(d);const L=new CustomEvent("scrolledTo",{detail:{section:"section",index:4}});window.dispatchEvent(L)}ie?.classList.remove("opacity-0"),_=window.scrollY},1e3),clearInterval(r),T=!1)},Ge)}if(n.target.id!=="section-negative"){h=Number(n.target.id.slice(-1));const i=new CustomEvent("onCurrentIndexChanged",{detail:h});window.dispatchEvent(i)}w=document.body.scrollTop||document.documentElement.scrollTop}for(let o=0;o<It;o++){const s=document.getElementById(`subtitle-${o}`);h===o?(s?.classList.remove("animate-fadeOut","hidden"),s?.classList.add("animate-riseIn")):(s?.classList.remove("animate-riseIn"),s?.classList.add("animate-fadeOut"))}})},Ht);pt.forEach(e=>{Mt.observe(e)});document.addEventListener("scroll",()=>{I||requestAnimationFrame(Pt),Lt&&a===0&&(we?.classList.add("hidden"),Pe?.classList.remove("logo--contrast")),!ze&&window.scrollY>400&&(Xe?.classList.add("opacity-0"),ze=!0,setTimeout(()=>{Xe?.classList.add("hidden")},400))},{passive:!0});const Pt=()=>{document.documentElement.style.setProperty("--scroll",(window.scrollY/(document.body.offsetHeight-window.innerHeight)).toString())};function Ne(e){C=!0,we?.classList.remove("hidden"),Pe?.classList.add("logo--contrast"),e===0&&lt?.classList.remove("opacity-0"),Me?.classList.add("animate-fadeOut","titleBleach"),He?.classList.add("bg-1"),a=1,document.documentElement.style.setProperty("--bleachProgress","1");const t=new CustomEvent("envSectionShown");window.dispatchEvent(t),setTimeout(()=>{C=!1},2e3)}function xt(e){C=!0,Me?.classList.remove("animate-fadeOut","titleBleach"),He?.classList.remove("bg-1"),we?.classList.add("hidden"),a=0,document.documentElement.style.setProperty("--bleachProgress","0");const t=new CustomEvent("todaySectionShown");window.dispatchEvent(t),setTimeout(()=>{w=document.body.scrollTop||document.documentElement.scrollTop,R=w,C=!1},2e3),_=window.scrollY}function Yt(){Ne(5);const e=document.getElementById("en-section-5");e&&$e(e),document.getElementById("animation-control")?.classList.add("opacity-0");const n=new CustomEvent("needSyncStatusBar",{detail:{section:"en-section",index:5}});window.dispatchEvent(n)}window.addEventListener("scrollToEnv",e=>{Ne(e.detail)});window.addEventListener("scrollToToday",e=>{xt(e.detail)});window.addEventListener("scrolledTo",e=>{const t=e.detail;t.section==="section"&&(h=t.index,w=document.body.scrollTop||document.documentElement.scrollTop,R=w,ae=w,A=h),_=window.scrollY});const Nt=document.getElementById("sroll-to-end");Nt?.addEventListener("click",Yt);window.addEventListener("scroll",at);const Qe=document.getElementById("section-0");let ae=w,R=w,A=h,be=0,he="down";at();function at(){if(a>=1)return;const e=Qe&&Qe.clientHeight;if(!e)return;const t=document.body.scrollTop||document.documentElement.scrollTop;if(ae!==w&&A!==h&&(ae=w,R=w,he==="up"&&(R=ae-e)),A!==h){const i=document.getElementById(`today-bit-progress-${A}`);he==="down"?i&&(i.style.width="100%"):i&&(i.style.width="0%"),A=h}const o=(t-R)*100/e,s=document.getElementById(`today-bit-progress-${h}`);s&&o<=100&&(s.style.width=o+"%")}window.addEventListener("scroll",function(){let e=window.pageYOffset||document.documentElement.scrollTop;e>be?he="down":e<be&&(he="up"),be=e<=0?0:e},!1);const Wt=document.querySelectorAll(".envision .section");let Te=!1,g=0,E=document.body.scrollTop||document.documentElement.scrollTop;const et=document.getElementById("en-section-0"),le=document.getElementById("envMeeLogo"),ce=document.getElementById("meeRestoringText"),re=document.getElementById("scrollIndicatorInvision"),tt=document.getElementById("animation-control"),nt=document.getElementById("header"),At={threshold:0,rootMargin:"-40% 0% -60%"},kt=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){n.target.classList.remove("opacity-0"),n.target.querySelector(".subtitle")?.classList.remove("animate-fadeOut","hidden"),n.target.querySelector(".subtitle")?.classList.add("animate-riseIn"),n.target.querySelector(".title")?.classList.add("animate-riseIn"),n.target.id==="en-section-0"&&(Te=!0,et?.classList.remove("opacity-0"),le?.classList.remove("hidden"),le?.classList.add("animate-fadeIn"),ce?.classList.remove("hidden"),ce?.classList.add("animate-riseIn"),re?.classList.remove("!hidden"),re?.classList.add("animate-fadeIn"));const o=new CustomEvent("envSectionChanged",{detail:n.target.id});if(window.dispatchEvent(o),g!==Number(n.target.id.slice(-1))){g=Number(n.target.id.slice(-1)),E=document.body.scrollTop||document.documentElement.scrollTop;const s=new CustomEvent("onCurrentIndexChanged",{detail:g});window.dispatchEvent(s)}}else n.target.querySelector(".subtitle")?.classList.remove("animate-riseIn"),n.target.querySelector(".subtitle")?.classList.add("'animate-fadeOut'"),n.target.querySelector(".title")?.classList.remove("animate-riseIn"),n.target.id!=="en-section-5"&&n.target.classList.add("opacity-0"),n.target.id==="en-section-0"&&Te&&(et?.classList.add("opacity-0"),le?.classList.remove("animate-fadeIn"),le?.classList.add("hidden"),ce?.classList.remove("animate-riseIn"),ce?.classList.add("hidden"),re?.classList.remove("animate-fadeIn"),re?.classList.add("!hidden"),Te=!1)})},At);Wt.forEach(e=>{kt.observe(e)});const ot=document.getElementById("en-section-1"),$=document.getElementById("en-section-5"),qt={threshold:0},Rt=new IntersectionObserver((e,t)=>{e.forEach(n=>{n.isIntersecting?(tt?.classList.add("opacity-0"),nt?.classList.add("bg-white","lg:bg-transparent")):D==="up"&&(tt?.classList.remove("opacity-0"),nt?.classList.remove("bg-white","lg:bg-transparent"))})},qt);$&&Rt.observe($);const _t={threshold:.49},Dt=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){const o=new CustomEvent("atTheAppLinks");window.dispatchEvent(o)}})},_t);$&&Dt.observe($);let st=0,D;document.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;st>e?D="up":D="down",st=e});window.addEventListener("scroll",ut);let ue=E,me=E,fe=g,We="today";const Ft=()=>{let e=ot&&ot.clientHeight;return g===5&&(e=$&&$.clientHeight-280),e};window.addEventListener("envSectionShown",()=>{We="env",ut()});window.addEventListener("todaySectionShown",()=>{We="today"});window.addEventListener("scrolledTo",e=>{const t=e.detail;if(t.section==="en-section"&&(g=t.index,E=document.body.scrollTop||document.documentElement.scrollTop,me=E,ue=E,fe=g,t.index===0||t.index===5)){const n=t.index===0?50:250,o=setInterval(()=>{window.scrollTo(0,window.scrollY+20)},5);setTimeout(()=>{clearInterval(o)},n)}});function ut(){if(We==="today")return;let e=Ft();if(!e)return;const t=document.body.scrollTop||document.documentElement.scrollTop;if(ue!==E&&(ue=E,me=E,D==="up"&&(me=ue-e)),fe!==g){const i=document.getElementById(`env-bit-progress-${fe}`);D==="down"?i&&(i.style.width="100%"):i&&(i.style.width="0%"),fe=g}const o=(t-me)*100/e,s=document.getElementById(`env-bit-progress-${g}`);s&&o<=100&&(s.style.width=o+"%")}const Ut=document.querySelectorAll(".floatIcon"),Vt=1200;Ut.forEach(e=>{e.style.animationDelay=Vt+Math.floor(Math.random()*4200)+"ms"});
