import"./hoisted.8935e003.js";import"./hoisted.ee572395.js";import"./mee-js-sdk.es.ed8c063b.js";const De=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Fe=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Le=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Fe(n.overflowY,t)||Fe(n.overflowX,t)||(o=>{const s=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!s&&(s.clientHeight<o.scrollHeight||s.clientWidth<o.scrollWidth)})(e)}return!1},se=(e,t,n,o,s,i,d,l)=>i<e&&d>t||i>e&&d<t?0:i<=e&&l<=n||d>=t&&l>=n?i-e-o:d>t&&l<n||i<e&&l>n?d-t+s:0,ht=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Ue=(e,t)=>{var n,o,s,i;if(typeof document>"u")return[];const{scrollMode:d,block:l,inline:r,boundary:L,skipOverflowHiddenElements:ut}=t,ft=typeof L=="function"?L:N=>N!==L;if(!De(e))throw new TypeError("Invalid target");const qe=document.scrollingElement||document.documentElement,U=[];let m=e;for(;De(m)&&ft(m);){if(m=ht(m),m===qe){U.push(m);break}m!=null&&m===document.body&&Le(m)&&!Le(document.documentElement)||m!=null&&Le(m,ut)&&U.push(m)}const O=(o=(n=window.visualViewport)==null?void 0:n.width)!=null?o:innerWidth,H=(i=(s=window.visualViewport)==null?void 0:s.height)!=null?i:innerHeight,{scrollX:x,scrollY:M}=window,{height:P,width:Y,top:V,right:ge,bottom:pe,left:j}=e.getBoundingClientRect();let u=l==="start"||l==="nearest"?V:l==="end"?pe:V+P/2,f=r==="center"?j+Y/2:r==="end"?ge:j;const Ee=[];for(let N=0;N<U.length;N++){const c=U[N],{height:X,width:G,top:Z,right:ye,bottom:Se,left:z}=c.getBoundingClientRect();if(d==="if-needed"&&V>=0&&j>=0&&pe<=H&&ge<=O&&V>=Z&&pe<=Se&&j>=z&&ge<=ye)return Ee;const J=getComputedStyle(c),K=parseInt(J.borderLeftWidth,10),Q=parseInt(J.borderTopWidth,10),ee=parseInt(J.borderRightWidth,10),te=parseInt(J.borderBottomWidth,10);let y=0,S=0;const ne="offsetWidth"in c?c.offsetWidth-c.clientWidth-K-ee:0,oe="offsetHeight"in c?c.offsetHeight-c.clientHeight-Q-te:0,Ae="offsetWidth"in c?c.offsetWidth===0?0:G/c.offsetWidth:0,ke="offsetHeight"in c?c.offsetHeight===0?0:X/c.offsetHeight:0;if(qe===c)y=l==="start"?u:l==="end"?u-H:l==="nearest"?se(M,M+H,H,Q,te,M+u,M+u+P,P):u-H/2,S=r==="start"?f:r==="center"?f-O/2:r==="end"?f-O:se(x,x+O,O,K,ee,x+f,x+f+Y,Y),y=Math.max(0,y+M),S=Math.max(0,S+x);else{y=l==="start"?u-Z-Q:l==="end"?u-Se+te+oe:l==="nearest"?se(Z,Se,X,Q,te+oe,u,u+P,P):u-(Z+X/2)+oe/2,S=r==="start"?f-z-K:r==="center"?f-(z+G/2)+ne/2:r==="end"?f-ye+ee+ne:se(z,ye,G,K,ee+ne,f,f+Y,Y);const{scrollLeft:Re,scrollTop:_e}=c;y=Math.max(0,Math.min(_e+y/ke,c.scrollHeight-X/ke+oe)),S=Math.max(0,Math.min(Re+S/Ae,c.scrollWidth-G/Ae+ne)),u+=_e-y,f+=Re-S}Ee.push({el:c,top:y,left:S})}return Ee},wt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function $e(e,t){if(!e.isConnected||!(o=>{let s=o;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(Ue(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:s,left:i}of Ue(e,wt(t)))o.scroll({top:s,left:i,behavior:n})}window.onbeforeunload=function(){window.scrollTo(0,0)};const k=5,Oe=6,vt="today",gt="env",Ve=document.getElementById("scroll-nav-bar");let v="today",p=0;const ie=e=>e==="today"?"section":"en-section",W=(e,t)=>{if(Be(ie(e),t),v===e)je(ie(e),t);else{v=e;const n=e==="today"?"scrollToToday":"scrollToEnv",o=new CustomEvent(n,{detail:t});window.dispatchEvent(o),setTimeout(()=>{je(ie(e),t),Be(ie(e),t)},1e3)}};document.body.onkeydown=function(e){e.code==="ArrowLeft"&&(v==="env"&&p===0?W("today",k-1):p>0&&W(v,p-1)),e.code==="ArrowRight"&&(v==="today"&&p===k-1?W("env",0):(p<k-1&&v==="today"||p<Oe-1&&v==="env")&&W(v,p+1))};const it=(e,t)=>{const n=document.createElement("div");n.id=`${e}-bit-progress-${t}`,n.className="bit-progress absolute top-0 left-0 h-6 sm:h-[6px]";const o=document.createElement("div");o.id=`${e}-bit-${t}`,o.className="bit overflow-hidden relative w-full first:rounded-l-full last:rounded-r-full nav-bar-bit h-6 sm:h-[6px]",o.append(n),Ve&&Ve.append(o);const s=document.getElementById(`${e}-bit-${t}`);s&&s.addEventListener("click",()=>{W(e,t)})};for(let e=0;e<k;e++)it(vt,e);for(let e=0;e<Oe;e++)it(gt,e);const je=(e,t)=>{const n=document.getElementById(`${e}-${t}`);p=t,n&&$e(n,{behavior:s=>s.forEach(({el:i,top:d,left:l})=>{const r=e==="section"&&t===0?d-screen.height/2:d;i.scrollTop=r,i.scrollLeft=l})});const o=new CustomEvent("scrolledTo",{detail:{section:e,index:t}});window.dispatchEvent(o)};window.addEventListener("onCurrentIndexChanged",e=>{p=e.detail});window.addEventListener("needSyncStatusBar",e=>{const t=e.detail;Be(t.section,t.index)});const Be=(e,t)=>{setTimeout(()=>{for(let n=0;n<k;n++){const o=document.getElementById(`today-bit-progress-${n}`);o&&(e==="section"&&t<=n?o.style.width="0%":o.style.width="100%")}for(let n=0;n<Oe;n++){const o=document.getElementById(`env-bit-progress-${n}`);o&&(e==="en-section"?t<=n?o.style.width="0%":o.style.width="100%":o.style.width="0%")}},200)};window.addEventListener("envSectionShown",()=>{v="env"});window.addEventListener("todaySectionShown",()=>{v="today"});const pt=document.querySelectorAll(".today .section"),Xe=document.querySelector(".scrollIconContainer"),He=document.querySelector(".shadow"),xe=document.getElementById("title"),Et=document.querySelector(".figuresContainer"),yt=document.querySelector(".grid"),St=document.querySelectorAll(".floatGradient"),Me=document.getElementById("mainLogo"),we=document.getElementById("envision"),Lt=document.getElementById("bleachAnimation");let a=0;const lt=document.getElementById("en-section-0"),Ge=100,Ze=.02;let I=!1,ze=!1;const It=5,bt=5;let w=document.body.scrollTop||document.documentElement.scrollTop,C=!1;const q=document.getElementById("animation-control");let h=0,Je=0,Ke;const Tt=5,Bt=15;let ve=!1;const b=document.getElementById("animation-play-pause-btn");let R=0,D=window.scrollY;const ct=()=>{R!==0&&clearInterval(R),R=setInterval(()=>{window.scrollY>=D&&(window.scrollTo(0,window.scrollY+Tt),D=window.scrollY)},Bt)},Ct=3e3,$t=5e3;let re,Ce,T=!1;B();function Ot(){T&&ct()}function B(){T&&(T=!1,clearInterval(Ce)),re!==null&&clearTimeout(re),re=setTimeout(function(){T||(rt(),T=!0,Ce=setInterval(Ot,$t))},Ct)}function Pe(){clearTimeout(re),clearInterval(Ke),Ke=0,clearInterval(R),R=0,clearInterval(Ce),window.removeEventListener("wheel",B),window.removeEventListener("keypress",B),window.removeEventListener("scroll",Pe)}const Ye=()=>{B(),window.addEventListener("wheel",B),window.addEventListener("keypress",B)};Ye();const dt=()=>{b&&(b.classList.remove("pause"),b.classList.add("play"),ve=!1)},rt=()=>{b&&(b.classList.add("pause"),b.classList.remove("play"),ve=!0,ct())};b?.addEventListener("click",()=>{ve?(dt(),Pe()):(rt(),Ye())});window.addEventListener("envSectionChanged",e=>{const t=e.detail,n=Number(t.slice(-1));ve&&n===bt-1&&Je===0&&Ye(),Je=n});window.addEventListener("atTheAppLinks",()=>{dt(),Pe()});let Ie;const Ht={threshold:0,rootMargin:"-40% 0% -60%"},xt=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){if(n.target.id==="animationTrigger"&&a<=0&&!C&&(xe?.classList.add("animate-fadeOut","titleBleach"),n.target.querySelector(".subtitle")?.classList.add("animate-fadeOut","titleBleach"),yt?.classList.add("animate-fadeOut","figuresBleach"),Et?.classList.add("animate-collapse3d","figuresBleach"),St.forEach(i=>{i.removeAttribute("style"),i.classList.add("animate-fadeOut","figuresBleach")}),He?.classList.add("bg-1"),!I)){I=!0,q?.classList.add("opacity-0");let i=setInterval(()=>{if(a<1)a=a+Ze,document.documentElement.style.setProperty("--bleachProgress",a.toString());else{setTimeout(()=>{I=!1;const r=new CustomEvent("needSyncStatusBar",{detail:{section:"en-section",index:0}});window.dispatchEvent(r);const L=new CustomEvent("scrolledTo",{detail:{section:"en-section",index:0}});window.dispatchEvent(L),q?.classList.remove("opacity-0"),Ie=Date.now()},1e3),clearInterval(i),Ne(0);const d=new CustomEvent("onCurrentIndexChanged",{detail:0});window.dispatchEvent(d);const l=new CustomEvent("envSectionShown");window.dispatchEvent(l)}},Ge)}const o=5e3,s=Date.now()-Ie>o;if(console.log("g",Date.now()-Ie),n.target.id==="animationTrigger"&&a>0&&!C&&s&&(we?.classList.add("hidden"),Me?.classList.remove("logo--contrast"),lt?.classList.add("opacity-0"),!I)){I=!0,q?.classList.add("opacity-0");const i=new CustomEvent("todaySectionShown");window.dispatchEvent(i);let d=setInterval(()=>{a>0?(a=a-Ze,document.documentElement.style.setProperty("--bleachProgress",a.toString())):(setTimeout(()=>{I=!1;const l=document.getElementById("section-4");if(l&&!h){$e(l);const r=new CustomEvent("needSyncStatusBar",{detail:{section:"section",index:4}});window.dispatchEvent(r);const L=new CustomEvent("scrolledTo",{detail:{section:"section",index:4}});window.dispatchEvent(L)}q?.classList.remove("opacity-0"),D=window.scrollY},1e3),clearInterval(d),T=!1)},Ge)}if(n.target.id!=="section-negative"){h=Number(n.target.id.slice(-1));const i=new CustomEvent("onCurrentIndexChanged",{detail:h});window.dispatchEvent(i)}w=document.body.scrollTop||document.documentElement.scrollTop}for(let o=0;o<It;o++){const s=document.getElementById(`subtitle-${o}`);h===o?(s?.classList.remove("animate-fadeOut","hidden"),s?.classList.add("animate-riseIn")):(s?.classList.remove("animate-riseIn"),s?.classList.add("animate-fadeOut"))}})},Ht);pt.forEach(e=>{xt.observe(e)});document.addEventListener("scroll",()=>{I||requestAnimationFrame(Mt),Lt&&a===0&&(we?.classList.add("hidden"),Me?.classList.remove("logo--contrast")),!ze&&window.scrollY>400&&(Xe?.classList.add("opacity-0"),ze=!0,setTimeout(()=>{Xe?.classList.add("hidden")},400))},{passive:!0});const Mt=()=>{document.documentElement.style.setProperty("--scroll",(window.scrollY/(document.body.offsetHeight-window.innerHeight)).toString())};function Ne(e){if(C=!0,q?.classList.contains("white")){const n=document.querySelector("#flash-protector");n?.classList.remove("hidden"),n?.classList.add("fixed","animate-fadeOut"),setTimeout(()=>{n?.classList.remove("fixed","animate-fadeOut"),n?.classList.add("hidden")},400)}we?.classList.remove("hidden"),Me?.classList.add("logo--contrast"),e===0&&lt?.classList.remove("opacity-0"),xe?.classList.add("animate-fadeOut","titleBleach"),He?.classList.add("bg-1"),a=1,document.documentElement.style.setProperty("--bleachProgress","1");const t=new CustomEvent("envSectionShown");window.dispatchEvent(t),setTimeout(()=>{C=!1},2e3)}function Pt(e){C=!0,xe?.classList.remove("animate-fadeOut","titleBleach"),He?.classList.remove("bg-1"),we?.classList.add("hidden"),a=0,document.documentElement.style.setProperty("--bleachProgress","0");const t=new CustomEvent("todaySectionShown");window.dispatchEvent(t),setTimeout(()=>{w=document.body.scrollTop||document.documentElement.scrollTop,_=w,C=!1},2e3),D=window.scrollY}function Yt(){Ne(5);const e=document.getElementById("en-section-5");e&&$e(e),document.getElementById("animation-control")?.classList.add("opacity-0");const n=new CustomEvent("needSyncStatusBar",{detail:{section:"en-section",index:5}});window.dispatchEvent(n)}window.addEventListener("scrollToEnv",e=>{Ne(e.detail)});window.addEventListener("scrollToToday",e=>{Pt(e.detail)});window.addEventListener("scrolledTo",e=>{const t=e.detail;t.section==="section"&&(h=t.index,w=document.body.scrollTop||document.documentElement.scrollTop,_=w,ae=w,A=h),D=window.scrollY});const Nt=document.getElementById("sroll-to-end");Nt?.addEventListener("click",Yt);window.addEventListener("scroll",at);const Qe=document.getElementById("section-0");let ae=w,_=w,A=h,be=0,he="down";at();function at(){if(a>=1)return;const e=Qe&&Qe.clientHeight;if(!e)return;const t=document.body.scrollTop||document.documentElement.scrollTop;if(ae!==w&&A!==h&&(ae=w,_=w,he==="up"&&(_=ae-e)),A!==h){const i=document.getElementById(`today-bit-progress-${A}`);he==="down"?i&&(i.style.width="100%"):i&&(i.style.width="0%"),A=h}const o=(t-_)*100/e,s=document.getElementById(`today-bit-progress-${h}`);s&&o<=100&&(s.style.width=o+"%")}window.addEventListener("scroll",function(){let e=window.pageYOffset||document.documentElement.scrollTop;e>be?he="down":e<be&&(he="up"),be=e<=0?0:e},!1);const Wt=document.querySelectorAll(".envision .section");let Te=!1,g=0,E=document.body.scrollTop||document.documentElement.scrollTop;const et=document.getElementById("en-section-0"),le=document.getElementById("envMeeLogo"),ce=document.getElementById("meeRestoringText"),de=document.getElementById("scrollIndicatorInvision"),tt=document.getElementById("animation-control"),nt=document.getElementById("header"),qt={threshold:0,rootMargin:"-40% 0% -60%"},At=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){n.target.classList.remove("opacity-0"),n.target.querySelector(".subtitle")?.classList.remove("animate-fadeOut","hidden"),n.target.querySelector(".subtitle")?.classList.add("animate-riseIn"),n.target.querySelector(".title")?.classList.add("animate-riseIn"),n.target.id==="en-section-0"&&(Te=!0,et?.classList.remove("opacity-0"),le?.classList.remove("hidden"),le?.classList.add("animate-fadeIn"),ce?.classList.remove("hidden"),ce?.classList.add("animate-riseIn"),de?.classList.remove("!hidden"),de?.classList.add("animate-fadeIn"));const o=new CustomEvent("envSectionChanged",{detail:n.target.id});if(window.dispatchEvent(o),g!==Number(n.target.id.slice(-1))){g=Number(n.target.id.slice(-1)),E=document.body.scrollTop||document.documentElement.scrollTop;const s=new CustomEvent("onCurrentIndexChanged",{detail:g});window.dispatchEvent(s)}}else n.target.querySelector(".subtitle")?.classList.remove("animate-riseIn"),n.target.querySelector(".subtitle")?.classList.add("'animate-fadeOut'"),n.target.querySelector(".title")?.classList.remove("animate-riseIn"),n.target.id!=="en-section-5"&&n.target.classList.add("opacity-0"),n.target.id==="en-section-0"&&Te&&(et?.classList.add("opacity-0"),le?.classList.remove("animate-fadeIn"),le?.classList.add("hidden"),ce?.classList.remove("animate-riseIn"),ce?.classList.add("hidden"),de?.classList.remove("animate-fadeIn"),de?.classList.add("!hidden"),Te=!1)})},qt);Wt.forEach(e=>{At.observe(e)});const ot=document.getElementById("en-section-1"),$=document.getElementById("en-section-5"),kt={threshold:0},Rt=new IntersectionObserver((e,t)=>{e.forEach(n=>{n.isIntersecting?(tt?.classList.add("opacity-0"),nt?.classList.add("bg-white","lg:bg-transparent")):F==="up"&&(tt?.classList.remove("opacity-0"),nt?.classList.remove("bg-white","lg:bg-transparent"))})},kt);$&&Rt.observe($);const _t={threshold:.49},Dt=new IntersectionObserver((e,t)=>{e.forEach(n=>{if(n.isIntersecting){const o=new CustomEvent("atTheAppLinks");window.dispatchEvent(o)}})},_t);$&&Dt.observe($);let st=0,F;document.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;st>e?F="up":F="down",st=e});window.addEventListener("scroll",mt);let me=E,ue=E,fe=g,We="today";const Ft=()=>{let e=ot&&ot.clientHeight;return g===5&&(e=$&&$.clientHeight-280),e};window.addEventListener("envSectionShown",()=>{We="env",mt()});window.addEventListener("todaySectionShown",()=>{We="today"});window.addEventListener("scrolledTo",e=>{const t=e.detail;if(t.section==="en-section"&&(g=t.index,E=document.body.scrollTop||document.documentElement.scrollTop,ue=E,me=E,fe=g,t.index===0||t.index===5)){const n=t.index===0?50:250,o=setInterval(()=>{window.scrollTo(0,window.scrollY+20)},5);setTimeout(()=>{clearInterval(o)},n)}});function mt(){if(We==="today")return;let e=Ft();if(!e)return;const t=document.body.scrollTop||document.documentElement.scrollTop;if(me!==E&&(me=E,ue=E,F==="up"&&(ue=me-e)),fe!==g){const i=document.getElementById(`env-bit-progress-${fe}`);F==="down"?i&&(i.style.width="100%"):i&&(i.style.width="0%"),fe=g}const o=(t-ue)*100/e,s=document.getElementById(`env-bit-progress-${g}`);s&&o<=100&&(s.style.width=o+"%")}const Ut=document.querySelectorAll(".floatIcon"),Vt=1200;Ut.forEach(e=>{e.style.animationDelay=Vt+Math.floor(Math.random()*4200)+"ms"});
