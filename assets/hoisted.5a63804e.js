import"./hoisted.6e331d04.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./mee-js-sdk.es.4908cffa.js";const P=window.location.pathname.includes("from-envision"),a=document.querySelector(".slider-container"),E=document.querySelectorAll(".slide"),q=document.querySelectorAll(".slide-subtitle"),S=document.querySelector(".scrollIconContainer");let n=0,o=0,i=0,r=!1,g;const C=document.getElementById("flash-protector");a?.classList.add("slider-locked");let s=0;const L=document.querySelector(".grid"),b=document.querySelector(".figuresContainer"),D=document.querySelectorAll(".floatGradient"),B=document.querySelector(".shadow"),y=document.getElementById("title"),O=70,T=.02,w=.04,Y=3e3,k=5e3;let h,m,c=!1;const M=()=>{c&&d(1)},f=()=>{c&&(c=!1,m&&clearInterval(m))},_=()=>{c&&(c=!1,clearInterval(m)),h!==null&&clearTimeout(h),h=setTimeout(function(){c||(c=!0,m=setInterval(M,k))},Y)},R=(e,t)=>{let l=0;g=setInterval(()=>{l<100&&!(!t&&e===-1)&&(l++,o=o+e*1e-4*(99-l),document.documentElement.style.setProperty("--scroll",o.toString()))},7)},F=()=>{r=!0,y?.classList.add("animate-fadeOut","titleBleach"),q.forEach(t=>{t.classList.add("animate-fadeOut","titleBleach")}),L?.classList.add("animate-fadeOut","figuresBleach"),b?.classList.add("animate-collapse3d","figuresBleach"),D.forEach(t=>{t.removeAttribute("style"),t.classList.add("animate-fadeOut","figuresBleach")}),B?.classList.add("bg-1");let e=setInterval(()=>{if(s<1){const t=s>.6?w:T;s=s+t,s>1&&(s=1),document.documentElement.style.setProperty("--bleachProgress",s.toString())}else setTimeout(()=>{r=!1,window.location.href="/envision"},1e3),clearInterval(e)},O)},U=()=>{r=!0,L?.classList.add("animate-fadeOut","figuresBleach"),b?.classList.add("animate-collapse3d","figuresBleach");let e=setInterval(()=>{if(s>0){const t=s>.6?w:T;s=s-t,s<0&&(s=0),document.documentElement.style.setProperty("--bleachProgress",s.toString())}else clearInterval(e),r=!1,y?.classList.add("animate-fadeIn"),L?.classList.remove("animate-fadeOut","figuresBleach"),y?.classList.remove("opacity-0"),B?.classList.remove("bg-1"),I()},O)},I=()=>{E.forEach((e,t)=>{const l=t===n,u=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(u?.classList.add("animate-fadeOut","opacity-0"),u?.classList.remove("animate-riseIn")):l&&(u?.classList.remove("opacity-0","animate-fadeOut"),u?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",l)},300)})},d=e=>{if(a?.classList.contains("slider-locked")||r)return;R(e,n);const t=n+e;if(n===0&&e===1&&(S?.classList.add("opacity-0"),setTimeout(()=>{S?.classList.add("hidden")},100)),!(t<0&&e===-1)&&(n=t,a?.classList.add("slider-locked"),I(),t>E.length-1&&e===1)){F();return}},x=()=>{g&&clearInterval(g),a?.classList.remove("slider-locked")},G=e=>{f();const t=Math.sign(e.deltaY),l=a?.classList.contains("slider-locked");!(n===0&&e.deltaY<0)&&!l&&(o=o+e.deltaY*1e-4,document.documentElement.style.setProperty("--scroll",o.toString())),i=i+e.deltaY,(i>1e3||i<-1e3)&&(d(t),i=0)},p=e=>!!e.target.closest("#header");let A=0,v=0;const H=e=>{p(e)||(f(),A=e.touches[0]?.clientY??0)},N=e=>{if(!p(e)){v=e.touches[0]?.clientY??0;const t=A-v;!n&&t<0||(o=o+t*5e-5,o<0&&(o=0),document.documentElement.style.setProperty("--scroll",o.toString()))}},j=e=>{if(!p(e)){const t=A>v?1:-1;d(t)}};document.addEventListener("wheel",G);a?.addEventListener("transitionend",x);document.body.onkeydown=function(e){e.code==="ArrowDown"&&(f(),d(1)),e.code==="ArrowUp"&&(f(),d(-1))};document?.addEventListener("touchstart",H);document?.addEventListener("touchmove",N);document?.addEventListener("touchend",j);window.onload=()=>{P?(window.history.replaceState(null,document.title,"/"),C?.classList.add("hidden"),n=E.length-1,o=2,S?.classList.add("hidden"),s=1,document.documentElement.style.setProperty("--scroll",o.toString()),U()):(I(),_())};const z=document.querySelectorAll(".floatIcon"),J=1200;z.forEach(e=>{e.style.animationDelay=J+Math.floor(Math.random()*4200)+"ms"});
