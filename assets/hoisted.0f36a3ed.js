import"./hoisted.86c94afe.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./hoisted.e4b9fc9f.js";import"./mee-js-sdk.es.4908cffa.js";window.onbeforeunload=function(){window.scrollTo(0,0)};const se=e=>typeof e=="object"&&e!=null&&e.nodeType===1,le=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Q=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const o=getComputedStyle(e,null);return le(o.overflowY,t)||le(o.overflowX,t)||(n=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(e)}return!1},X=(e,t,o,n,i,l,h,r)=>l<e&&h>t||l>e&&h<t?0:l<=e&&r<=o||h>=t&&r>=o?l-e-n:h>t&&r<o||l<e&&r>o?h-t+i:0,ve=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},re=(e,t)=>{var o,n,i,l;if(typeof document>"u")return[];const{scrollMode:h,block:r,inline:m,boundary:U,skipOverflowHiddenElements:ge}=t,pe=typeof U=="function"?U:x=>x!==U;if(!se(e))throw new TypeError("Invalid target");const ee=document.scrollingElement||document.documentElement,H=[];let c=e;for(;se(c)&&pe(c);){if(c=ve(c),c===ee){H.push(c);break}c!=null&&c===document.body&&Q(c)&&!Q(document.documentElement)||c!=null&&Q(c,ge)&&H.push(c)}const b=(n=(o=window.visualViewport)==null?void 0:o.width)!=null?n:innerWidth,S=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:L,scrollY:E}=window,{height:I,width:W,top:M,right:z,bottom:F,left:q}=e.getBoundingClientRect();let d=r==="start"||r==="nearest"?M:r==="end"?F:M+I/2,a=m==="center"?q+W/2:m==="end"?z:q;const G=[];for(let x=0;x<H.length;x++){const s=H[x],{height:C,width:A,top:B,right:J,bottom:K,left:D}=s.getBoundingClientRect();if(h==="if-needed"&&M>=0&&q>=0&&F<=S&&z<=b&&M>=B&&F<=K&&q>=D&&z<=J)return G;const Y=getComputedStyle(s),N=parseInt(Y.borderLeftWidth,10),R=parseInt(Y.borderTopWidth,10),O=parseInt(Y.borderRightWidth,10),V=parseInt(Y.borderBottomWidth,10);let g=0,p=0;const j="offsetWidth"in s?s.offsetWidth-s.clientWidth-N-O:0,P="offsetHeight"in s?s.offsetHeight-s.clientHeight-R-V:0,te="offsetWidth"in s?s.offsetWidth===0?0:A/s.offsetWidth:0,oe="offsetHeight"in s?s.offsetHeight===0?0:C/s.offsetHeight:0;if(ee===s)g=r==="start"?d:r==="end"?d-S:r==="nearest"?X(E,E+S,S,R,V,E+d,E+d+I,I):d-S/2,p=m==="start"?a:m==="center"?a-b/2:m==="end"?a-b:X(L,L+b,b,N,O,L+a,L+a+W,W),g=Math.max(0,g+E),p=Math.max(0,p+L);else{g=r==="start"?d-B-R:r==="end"?d-K+V+P:r==="nearest"?X(B,K,C,R,V+P,d,d+I,I):d-(B+C/2)+P/2,p=m==="start"?a-D-N:m==="center"?a-(D+A/2)+j/2:m==="end"?a-J+O+j:X(D,J,A,N,O+j,a,a+W,W);const{scrollLeft:ne,scrollTop:ie}=s;g=Math.max(0,Math.min(ie+g/oe,s.scrollHeight-C/oe+P)),p=Math.max(0,Math.min(ne+p/te,s.scrollWidth-A/te+j)),d+=ie-g,a+=ne-p}G.push({el:s,top:g,left:p})}return G},ye=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function we(e,t){if(!e.isConnected||!(n=>{let i=n;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(re(e,t));const o=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:i,left:l}of re(e,ye(t)))n.scroll({top:i,left:l,behavior:o})}const ae=window.location.hash==="#app",be=document.querySelectorAll(".envision .section"),y=document.getElementById("slides-section"),v=document.querySelectorAll(".slide"),w=document.getElementById("title"),ce=document.getElementById("app-buttons"),Z=document.getElementById("envision");let u=!0,de=!1,f=ae?v.length-1:0;ae&&(setTimeout(()=>{Z?.classList.remove("fixed"),ce&&we(ce,{behavior:"smooth",scrollMode:"if-needed"})},1e3),window.history.replaceState(null,document.title,"/envision/"),document.documentElement.style.setProperty("--bg-offset","100vh"),u=!1,y?.classList.remove("slider-locked"));const Se=()=>{de||(de=!0,window.location.href="/from-envision")},Le={threshold:.8},Ee=new IntersectionObserver((e,t)=>{e.forEach(o=>{o.isIntersecting&&(o.target.classList.remove("opacity-0"),o.target.querySelector(".subtitle")?.classList.remove("opacity-0"),o.target.querySelector(".subtitle")?.classList.add("animate-riseIn-short","animation-delay-600"))})},Le);be.forEach(e=>{Ee.observe(e)});let T;const Ie=(e,t)=>{let o=t*30,n=(t+e)*30;n>100?n=100:n<0&&(n=0),o>100?o=100:o<0&&(o=0),T&&clearInterval(T),document.documentElement.style.setProperty("--bg-offset",o.toString()+"vh");let i=0;T=setInterval(()=>{i++,o<n&&e===1||o>n&&e===-1?(o=o+i*e*.005,document.documentElement.style.setProperty("--bg-offset",o.toString()+"vh")):T&&clearInterval(T)},10)};let k=0;const We=e=>{if($(),u){const t=Math.sign(e.deltaY);k=k+e.deltaY,(k>500||k<-500)&&(_(t),k=0)}};let ue=0,fe=0;const he=e=>!!e.target.closest("#header"),xe=e=>{$(),u&&!he(e)&&(ue=e.touches[0]?.clientY??0)},Te=e=>{$(),u&&(fe=e.touches[0]?.clientY??0)},ke=e=>{if($(),u&&!he(e)){const t=ue>fe?1:-1;_(t)}},$=()=>{(document.body.scrollTop||document.documentElement.scrollTop)===0&&!u&&(u=!0)},He=()=>{y?.classList.remove("slider-locked")},_=e=>{if(y?.classList.contains("slider-locked"))return;y?.classList.add("slider-locked");const t=f+e;if(t<0&&e===-1){Se(),u=!1;return}if(f===v.length-1&&t===v.length-2&&Z?.classList.add("fixed"),t>v.length-1&&e===1){y?.classList.remove("slider-locked"),u=!1;return}t===v.length-1&&e===1&&(setTimeout(()=>{Z?.classList.remove("fixed")},1e3),u=!1,y?.classList.remove("slider-locked")),Ie(e,f),f=t,(f>0||f<v.length-1)&&w?.querySelector(".text")?.classList.contains("opacity-0")?(w?.querySelector(".text")?.classList.remove("opacity-0"),w?.querySelector(".text")?.classList.add("animate-riseIn")):(f===0||f===v.length-1)&&!w?.classList.contains("opacity-0")&&(w?.querySelector(".text")?.classList.add("opacity-0"),w?.querySelector(".text")?.classList.remove("animate-riseIn")),me()},me=()=>{v.forEach((e,t)=>{const o=t===f,n=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(n?.classList.add("animate-fadeOut","opacity-0"),n?.classList.remove("animate-riseIn")):o&&(n?.classList.remove("opacity-0","animate-fadeOut"),n?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",o)},300)})};window.onload=()=>{me()};document.body.onkeydown=function(e){e.code==="ArrowDown"&&_(1),e.code==="ArrowUp"&&_(-1)};document.addEventListener("wheel",We);document?.addEventListener("touchstart",xe);document?.addEventListener("touchmove",Te);document?.addEventListener("touchend",ke);y?.addEventListener("transitionend",He);
