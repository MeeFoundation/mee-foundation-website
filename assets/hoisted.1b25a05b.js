import"./hoisted.86c94afe.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./mee-js-sdk.es.4908cffa.js";const P=window.location.pathname.includes("from-envision"),a=document.querySelector(".slider-container"),E=document.querySelectorAll(".slide"),q=document.querySelectorAll(".slide-subtitle"),g=document.querySelector(".scrollIconContainer");let l=0,s=0,i=0,r=!1,S;const C=document.getElementById("flash-protector");a?.classList.add("slider-locked");const D=document.getElementById("sroll-to-end");let o=0;const L=document.querySelector(".grid"),b=document.querySelector(".figuresContainer"),k=document.querySelectorAll(".floatGradient"),T=document.querySelector(".shadow"),y=document.getElementById("title"),w=70,B=.02,O=.04,Y=3e3,M=5e3;let h,m,c=!1;const _=()=>{c&&d(1)},f=()=>{c&&(c=!1,m&&clearInterval(m))},R=()=>{c&&(c=!1,clearInterval(m)),h!==null&&clearTimeout(h),h=setTimeout(function(){c||(c=!0,m=setInterval(_,M))},Y)},F=(e,t)=>{let n=0;S=setInterval(()=>{n<100&&!(!t&&e===-1)&&(n++,s=s+e*1e-4*(99-n),document.documentElement.style.setProperty("--scroll",s.toString()))},7)},U=()=>{r=!0,y?.classList.add("animate-fadeOut","titleBleach"),q.forEach(t=>{t.classList.add("animate-fadeOut","titleBleach")}),L?.classList.add("animate-fadeOut","figuresBleach"),b?.classList.add("animate-collapse3d","figuresBleach"),k.forEach(t=>{t.removeAttribute("style"),t.classList.add("animate-fadeOut","figuresBleach")}),T?.classList.add("bg-1");let e=setInterval(()=>{if(o<1){const t=o>.6?O:B;o=o+t,o>1&&(o=1),document.documentElement.style.setProperty("--bleachProgress",o.toString())}else setTimeout(()=>{r=!1,window.location.href="/envision"},1e3),clearInterval(e)},w)},x=()=>{r=!0,L?.classList.add("animate-fadeOut","figuresBleach"),b?.classList.add("animate-collapse3d","figuresBleach");let e=setInterval(()=>{if(o>0){const t=o>.6?O:B;o=o-t,o<0&&(o=0),document.documentElement.style.setProperty("--bleachProgress",o.toString())}else clearInterval(e),r=!1,y?.classList.add("animate-fadeIn"),L?.classList.remove("animate-fadeOut","figuresBleach"),y?.classList.remove("opacity-0"),T?.classList.remove("bg-1"),I()},w)},I=()=>{E.forEach((e,t)=>{const n=t===l,u=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(u?.classList.add("animate-fadeOut","opacity-0"),u?.classList.remove("animate-riseIn")):n&&(u?.classList.remove("opacity-0","animate-fadeOut"),u?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",n)},300)})},d=e=>{if(a?.classList.contains("slider-locked")||r)return;F(e,l);const t=l+e;if(l===0&&e===1&&(g?.classList.add("opacity-0"),setTimeout(()=>{g?.classList.add("hidden")},100)),!(t<0&&e===-1)&&(l=t,a?.classList.add("slider-locked"),I(),t>E.length-1&&e===1)){U();return}},G=()=>{S&&clearInterval(S),a?.classList.remove("slider-locked")},H=e=>{f();const t=Math.sign(e.deltaY),n=a?.classList.contains("slider-locked");!(l===0&&e.deltaY<0)&&!n&&(s=s+e.deltaY*1e-4,document.documentElement.style.setProperty("--scroll",s.toString())),i=i+e.deltaY,(i>1e3||i<-1e3)&&(d(t),i=0)},p=e=>!!e.target.closest("#header");let A=0,v=0;const N=e=>{p(e)||(f(),A=e.touches[0]?.clientY??0)},j=e=>{if(!p(e)){v=e.touches[0]?.clientY??0;const t=A-v;!l&&t<0||(s=s+t*5e-5,s<0&&(s=0),document.documentElement.style.setProperty("--scroll",s.toString()))}},z=e=>{if(!p(e)){const t=A>v?1:-1;d(t)}};document.addEventListener("wheel",H);a?.addEventListener("transitionend",G);document.body.onkeydown=function(e){e.code==="ArrowDown"&&(f(),d(1)),e.code==="ArrowUp"&&(f(),d(-1))};const J=()=>{window.location.href="/envision/#app"};document?.addEventListener("touchstart",N);document?.addEventListener("touchmove",j);document?.addEventListener("touchend",z);D?.addEventListener("click",J);window.onload=()=>{P?(window.history.replaceState(null,document.title,"/"),C?.classList.add("hidden"),l=E.length-1,s=2,g?.classList.add("hidden"),o=1,document.documentElement.style.setProperty("--scroll",s.toString()),x()):(I(),R())};const K=document.querySelectorAll(".floatIcon"),Q=1200;K.forEach(e=>{e.style.animationDelay=Q+Math.floor(Math.random()*4200)+"ms"});
