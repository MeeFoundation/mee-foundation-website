import"./hoisted.86c94afe.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./hoisted.e4b9fc9f.js";import"./mee-js-sdk.es.4908cffa.js";window.onbeforeunload=function(){window.scrollTo(0,0)};const E=document.querySelectorAll(".envision .section"),r=document.getElementById("slides-section"),c=document.querySelectorAll(".slide"),l=document.getElementById("title"),v=document.getElementById("envision");let i=!0,h=!1,n=0;const I=()=>{h||(h=!0,window.location.href="/from-envision")},p={threshold:.8},w=new IntersectionObserver((e,o)=>{e.forEach(t=>{t.isIntersecting&&(t.target.classList.remove("opacity-0"),t.target.querySelector(".subtitle")?.classList.remove("opacity-0"),t.target.querySelector(".subtitle")?.classList.add("animate-riseIn-short","animation-delay-600"))})},p);E.forEach(e=>{w.observe(e)});let a;const b=(e,o)=>{let t=o*30,s=(o+e)*30;s>100?s=100:s<0&&(s=0),t>100?t=100:t<0&&(t=0),a&&clearInterval(a),document.documentElement.style.setProperty("--bg-offset",t.toString()+"vh");let f=0;a=setInterval(()=>{f++,t<s&&e===1||t>s&&e===-1?(t=t+f*e*.005,document.documentElement.style.setProperty("--bg-offset",t.toString()+"vh")):a&&clearInterval(a)},10)};let d=0;const q=e=>{if(u(),i){const o=Math.sign(e.deltaY);d=d+e.deltaY,(d>500||d<-500)&&(m(o),d=0)}};let g=0,S=0;const L=e=>!!e.target.closest("#header"),x=e=>{u(),i&&!L(e)&&(g=e.touches[0]?.clientY??0)},T=e=>{u(),i&&(S=e.touches[0]?.clientY??0)},A=e=>{if(u(),i&&!L(e)){const o=g>S?1:-1;m(o)}},u=()=>{(document.body.scrollTop||document.documentElement.scrollTop)===0&&!i&&(i=!0)},k=()=>{r?.classList.remove("slider-locked")},m=e=>{if(r?.classList.contains("slider-locked"))return;r?.classList.add("slider-locked");const o=n+e;if(o<0&&e===-1){I(),i=!1;return}if(n===c.length-1&&o===c.length-2&&v?.classList.add("fixed"),o>c.length-1&&e===1){r?.classList.remove("slider-locked"),i=!1;return}o===c.length-1&&e===1&&(setTimeout(()=>{v?.classList.remove("fixed")},1e3),i=!1,r?.classList.remove("slider-locked")),b(e,n),n=o,(n>0||n<c.length-1)&&l?.querySelector(".text")?.classList.contains("opacity-0")?(l?.querySelector(".text")?.classList.remove("opacity-0"),l?.querySelector(".text")?.classList.add("animate-riseIn")):(n===0||n===c.length-1)&&!l?.classList.contains("opacity-0")&&(l?.querySelector(".text")?.classList.add("opacity-0"),l?.querySelector(".text")?.classList.remove("animate-riseIn")),y()},y=()=>{c.forEach((e,o)=>{const t=o===n,s=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(s?.classList.add("animate-fadeOut","opacity-0"),s?.classList.remove("animate-riseIn")):t&&(s?.classList.remove("opacity-0","animate-fadeOut"),s?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",t)},300)})};window.onload=()=>{y()};document.body.onkeydown=function(e){e.code==="ArrowDown"&&m(1),e.code==="ArrowUp"&&m(-1)};document.addEventListener("wheel",q);document?.addEventListener("touchstart",x);document?.addEventListener("touchmove",T);document?.addEventListener("touchend",A);r?.addEventListener("transitionend",k);
