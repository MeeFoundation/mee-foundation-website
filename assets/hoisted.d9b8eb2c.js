import"./hoisted.86c94afe.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./hoisted.e4b9fc9f.js";import"./mee-js-sdk.es.4908cffa.js";window.onbeforeunload=function(){window.scrollTo(0,0)};const ie=e=>typeof e=="object"&&e!=null&&e.nodeType===1,se=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Q=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const o=getComputedStyle(e,null);return se(o.overflowY,t)||se(o.overflowX,t)||(n=>{const i=(l=>{if(!l.ownerDocument||!l.ownerDocument.defaultView)return null;try{return l.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(e)}return!1},X=(e,t,o,n,i,l,h,r)=>l<e&&h>t||l>e&&h<t?0:l<=e&&r<=o||h>=t&&r>=o?l-e-n:h>t&&r<o||l<e&&r>o?h-t+i:0,ve=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},le=(e,t)=>{var o,n,i,l;if(typeof document>"u")return[];const{scrollMode:h,block:r,inline:m,boundary:$,skipOverflowHiddenElements:ge}=t,pe=typeof $=="function"?$:x=>x!==$;if(!ie(e))throw new TypeError("Invalid target");const Z=document.scrollingElement||document.documentElement,k=[];let c=e;for(;ie(c)&&pe(c);){if(c=ve(c),c===Z){k.push(c);break}c!=null&&c===document.body&&Q(c)&&!Q(document.documentElement)||c!=null&&Q(c,ge)&&k.push(c)}const w=(n=(o=window.visualViewport)==null?void 0:o.width)!=null?n:innerWidth,S=(l=(i=window.visualViewport)==null?void 0:i.height)!=null?l:innerHeight,{scrollX:L,scrollY:E}=window,{height:I,width:W,top:M,right:z,bottom:F,left:q}=e.getBoundingClientRect();let d=r==="start"||r==="nearest"?M:r==="end"?F:M+I/2,a=m==="center"?q+W/2:m==="end"?z:q;const G=[];for(let x=0;x<k.length;x++){const s=k[x],{height:C,width:B,top:Y,right:J,bottom:K,left:D}=s.getBoundingClientRect();if(h==="if-needed"&&M>=0&&q>=0&&F<=S&&z<=w&&M>=Y&&F<=K&&q>=D&&z<=J)return G;const A=getComputedStyle(s),N=parseInt(A.borderLeftWidth,10),R=parseInt(A.borderTopWidth,10),O=parseInt(A.borderRightWidth,10),V=parseInt(A.borderBottomWidth,10);let g=0,p=0;const j="offsetWidth"in s?s.offsetWidth-s.clientWidth-N-O:0,P="offsetHeight"in s?s.offsetHeight-s.clientHeight-R-V:0,ee="offsetWidth"in s?s.offsetWidth===0?0:B/s.offsetWidth:0,te="offsetHeight"in s?s.offsetHeight===0?0:C/s.offsetHeight:0;if(Z===s)g=r==="start"?d:r==="end"?d-S:r==="nearest"?X(E,E+S,S,R,V,E+d,E+d+I,I):d-S/2,p=m==="start"?a:m==="center"?a-w/2:m==="end"?a-w:X(L,L+w,w,N,O,L+a,L+a+W,W),g=Math.max(0,g+E),p=Math.max(0,p+L);else{g=r==="start"?d-Y-R:r==="end"?d-K+V+P:r==="nearest"?X(Y,K,C,R,V+P,d,d+I,I):d-(Y+C/2)+P/2,p=m==="start"?a-D-N:m==="center"?a-(D+B/2)+j/2:m==="end"?a-J+O+j:X(D,J,B,N,O+j,a,a+W,W);const{scrollLeft:oe,scrollTop:ne}=s;g=Math.max(0,Math.min(ne+g/te,s.scrollHeight-C/te+P)),p=Math.max(0,Math.min(oe+p/ee,s.scrollWidth-B/ee+j)),d+=ne-g,a+=oe-p}G.push({el:s,top:g,left:p})}return G},ye=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function be(e,t){if(!e.isConnected||!(n=>{let i=n;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(le(e,t));const o=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:i,left:l}of le(e,ye(t)))n.scroll({top:i,left:l,behavior:o})}const de=window.location.hash==="#app",we=document.querySelectorAll(".envision .section"),y=document.getElementById("slides-section"),v=document.querySelectorAll(".slide"),b=document.getElementById("title"),re=document.getElementById("app-buttons"),U=document.getElementById("envision");let u=!0,ce=!1,f=de?v.length-1:0;de&&(setTimeout(()=>{U?.classList.remove("fixed"),re&&be(re,{behavior:"smooth",scrollMode:"if-needed"})},1e3),window.history.replaceState(null,document.title,"/envision/"),document.documentElement.style.setProperty("--bg-offset","100vh"),u=!1,y?.classList.remove("slider-locked"));const Se=()=>{ce||(ce=!0,window.location.href="/from-envision")},Le={threshold:.8},Ee=new IntersectionObserver((e,t)=>{e.forEach(o=>{o.isIntersecting&&(o.target.classList.remove("opacity-0"),o.target.querySelector(".subtitle")?.classList.remove("opacity-0"),o.target.querySelector(".subtitle")?.classList.add("animate-riseIn-short","animation-delay-600"))})},Le);we.forEach(e=>{Ee.observe(e)});let T;const Ie=(e,t)=>{let o=t*30,n=(t+e)*30;n>100?n=100:n<0&&(n=0),o>100?o=100:o<0&&(o=0),T&&clearInterval(T),document.documentElement.style.setProperty("--bg-offset",o.toString()+"vh");let i=0;T=setInterval(()=>{i++,o<n&&e===1||o>n&&e===-1?(o=o+i*e*.005,document.documentElement.style.setProperty("--bg-offset",o.toString()+"vh")):T&&clearInterval(T)},10)};let H=0;const We=e=>{if(_(),u){const t=Math.sign(e.deltaY);H=H+e.deltaY,(H>500||H<-500)&&(he(t),H=0)}};let ae=0,ue=0;const fe=e=>!!e.target.closest("#header"),xe=e=>{_(),u&&!fe(e)&&(ae=e.touches[0]?.clientY??0)},Te=e=>{_(),u&&(ue=e.touches[0]?.clientY??0)},He=e=>{if(_(),u&&!fe(e)){const t=ae>ue?1:-1;he(t)}},_=()=>{(document.body.scrollTop||document.documentElement.scrollTop)===0&&!u&&(u=!0)},ke=()=>{y?.classList.remove("slider-locked")},he=e=>{if(y?.classList.contains("slider-locked"))return;y?.classList.add("slider-locked");const t=f+e;if(t<0&&e===-1){Se(),u=!1;return}if(f===v.length-1&&t===v.length-2&&U?.classList.add("fixed"),t>v.length-1&&e===1){y?.classList.remove("slider-locked"),u=!1;return}t===v.length-1&&e===1&&(setTimeout(()=>{U?.classList.remove("fixed")},1e3),u=!1,y?.classList.remove("slider-locked")),Ie(e,f),f=t,(f>0||f<v.length-1)&&b?.querySelector(".text")?.classList.contains("opacity-0")?(b?.querySelector(".text")?.classList.remove("opacity-0"),b?.querySelector(".text")?.classList.add("animate-riseIn")):(f===0||f===v.length-1)&&!b?.classList.contains("opacity-0")&&(b?.querySelector(".text")?.classList.add("opacity-0"),b?.querySelector(".text")?.classList.remove("animate-riseIn")),me()},me=()=>{v.forEach((e,t)=>{const o=t===f,n=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(n?.classList.add("animate-fadeOut","opacity-0"),n?.classList.remove("animate-riseIn")):o&&(n?.classList.remove("opacity-0","animate-fadeOut"),n?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",o)},300)})};window.onload=()=>{me()};document.addEventListener("wheel",We);document?.addEventListener("touchstart",xe);document?.addEventListener("touchmove",Te);document?.addEventListener("touchend",He);y?.addEventListener("transitionend",ke);
