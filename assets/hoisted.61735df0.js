import"./hoisted.feb2ea6a.js";import"./Header.astro_astro_type_script_index_0_lang.8b84e16d.js";import"./mee-js-sdk.es.4908cffa.js";const T=window.location.pathname==="/from-envision",c=document.querySelector(".slider-container"),E=document.querySelectorAll(".slide"),P=document.querySelectorAll(".slide-subtitle"),S=document.querySelector(".scrollIconContainer");let n=0,s=0,i=0,r=!1,g;const q=document.getElementById("flash-protector");c?.classList.add("slider-locked");let o=0;const L=document.querySelector(".grid"),A=document.querySelector(".figuresContainer"),C=document.querySelectorAll(".floatGradient"),b=document.querySelector(".shadow"),y=document.getElementById("title"),B=70,O=.02,w=.04,D=3e3,Y=5e3;let h,m,a=!1;const k=()=>{a&&d(1)},f=()=>{a&&(a=!1,m&&clearInterval(m))},M=()=>{a&&(a=!1,clearInterval(m)),h!==null&&clearTimeout(h),h=setTimeout(function(){a||(a=!0,m=setInterval(k,Y))},D)},_=(e,t)=>{let l=0;g=setInterval(()=>{l<100&&!(!t&&e===-1)&&(l++,s=s+e*1e-4*(99-l),document.documentElement.style.setProperty("--scroll",s.toString()))},7)},R=()=>{r=!0,y?.classList.add("animate-fadeOut","titleBleach"),P.forEach(t=>{t.classList.add("animate-fadeOut","titleBleach")}),L?.classList.add("animate-fadeOut","figuresBleach"),A?.classList.add("animate-collapse3d","figuresBleach"),C.forEach(t=>{t.removeAttribute("style"),t.classList.add("animate-fadeOut","figuresBleach")}),b?.classList.add("bg-1");let e=setInterval(()=>{if(o<1){const t=o>.6?w:O;o=o+t,o>1&&(o=1),document.documentElement.style.setProperty("--bleachProgress",o.toString())}else setTimeout(()=>{r=!1,window.location.href="/envision"},1e3),clearInterval(e)},B)},F=()=>{r=!0,L?.classList.add("animate-fadeOut","figuresBleach"),A?.classList.add("animate-collapse3d","figuresBleach");let e=setInterval(()=>{if(o>0){const t=o>.6?w:O;o=o-t,o<0&&(o=0),document.documentElement.style.setProperty("--bleachProgress",o.toString())}else clearInterval(e),r=!1,y?.classList.add("animate-fadeIn"),L?.classList.remove("animate-fadeOut","figuresBleach"),y?.classList.remove("opacity-0"),b?.classList.remove("bg-1"),I()},B)},I=()=>{E.forEach((e,t)=>{const l=t===n,u=e.querySelector(".slide-subtitle");e.classList.contains("scrolling_active")?(u?.classList.add("animate-fadeOut","opacity-0"),u?.classList.remove("animate-riseIn")):l&&(u?.classList.remove("opacity-0","animate-fadeOut"),u?.classList.add("animate-riseIn")),setTimeout(()=>{e.classList.toggle("scrolling_active",l)},300)})},d=e=>{if(c?.classList.contains("slider-locked")||r)return;_(e,n);const t=n+e;if(n===0&&e===1&&(S?.classList.add("opacity-0"),setTimeout(()=>{S?.classList.add("hidden")},100)),!(t<0&&e===-1)&&(n=t,c?.classList.add("slider-locked"),I(),t>E.length-1&&e===1)){R();return}},U=()=>{g&&clearInterval(g),c?.classList.remove("slider-locked")},x=e=>{f();const t=Math.sign(e.deltaY),l=c?.classList.contains("slider-locked");!(n===0&&e.deltaY<0)&&!l&&(s=s+e.deltaY*1e-4,document.documentElement.style.setProperty("--scroll",s.toString())),i=i+e.deltaY,(i>1e3||i<-1e3)&&(d(t),i=0)};let p=0,v=0;const G=e=>{f(),p=e.touches[0]?.clientY??0},N=e=>{v=e.touches[0]?.clientY??0;const t=p-v;!n&&t<0||(s=s+t*5e-5,s<0&&(s=0),document.documentElement.style.setProperty("--scroll",s.toString()))},j=()=>{const e=p>v?1:-1;d(e)};document.addEventListener("wheel",x);c?.addEventListener("transitionend",U);document.body.onkeydown=function(e){e.code==="ArrowDown"&&(f(),d(1)),e.code==="ArrowUp"&&(f(),d(-1))};document?.addEventListener("touchstart",G);document?.addEventListener("touchmove",N);document?.addEventListener("touchend",j);window.onload=()=>{T?(window.history.replaceState(null,document.title,"/"),q?.classList.add("hidden"),n=E.length-1,s=2,S?.classList.add("hidden"),o=1,document.documentElement.style.setProperty("--scroll",s.toString()),F()):(I(),M())};const z=document.querySelectorAll(".floatIcon"),H=1200;z.forEach(e=>{e.style.animationDelay=H+Math.floor(Math.random()*4200)+"ms"});
