import"./Layout.astro_astro_type_script_index_0_lang.e2d41ec4.js";import"./Menu.astro_astro_type_script_index_0_lang.d7bd96bf.js";const J=t=>t===void 0||t==="auto"||t==="instant"||t==="smooth";function nt(t,e){this.scrollLeft=t,this.scrollTop=e}const Q=(t,e,o="cannot convert to dictionary.")=>`Failed to execute '${t}' on '${e}': ${o}`,Z=(t,e,o)=>Q(t,e,`The provided value '${o}' is not a valid enum value of type ScrollBehavior.`),W=(t,e,o)=>{var n;const r=`__SEAMLESS.BACKUP$${e}`;return!t[r]&&t[e]&&!(!((n=t[e])===null||n===void 0)&&n.__isPolyfill)&&(t[r]=t[e]),t[r]||o},rt=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},O=t=>t.ownerDocument.scrollingElement||t.ownerDocument.documentElement;function it(t){if(typeof Event=="function")return new Event("scrollend",{bubbles:t,cancelable:!1});const e=document.createEvent("Event");return e.initEvent("scrollend",t,!1),e}const st=t=>.5*(1-Math.cos(Math.PI*t));function P(){var t;let e;return!((t=window.performance)===null||t===void 0)&&t.now?e=()=>window.performance.now():e=()=>window.Date.now(),P=e,e()}const ct=500,z=t=>{const o=(P()-t.timeStamp)/(t.duration||ct);if(o>1){t.method(t.targetX,t.targetY),t.callback();return}const n=(t.timingFunc||st)(o),r=t.startX+(t.targetX-t.startX)*n,i=t.startY+(t.targetY-t.startY)*n;t.method(r,i),t.rafId=window.requestAnimationFrame(()=>{z(t)})},p=t=>isFinite(t)?Number(t):0,lt=t=>{var e;return(e=t.isConnected)!==null&&e!==void 0?e:!t.ownerDocument||!(t.ownerDocument.compareDocumentPosition(t)&1)},at=(t,e,o)=>{var n,r;if(!lt(t))return;const i=t.scrollLeft,c=t.scrollTop,d=p((n=e.left)!==null&&n!==void 0?n:i),l=p((r=e.top)!==null&&r!==void 0?r:c);if(d===i&&l===c)return;const w=W(HTMLElement.prototype,"scroll",nt),a=W(Object.getPrototypeOf(t),"scroll",w).bind(t);if(e.behavior!=="smooth"){a(d,l);return}const u=()=>{window.removeEventListener("wheel",s),window.removeEventListener("touchmove",s)},h=()=>{u();const g=t.nodeType===9;t.dispatchEvent(it(g))},m=Object.assign(Object.assign({},o),{timeStamp:P(),startX:i,startY:c,targetX:d,targetY:l,rafId:0,method:a,callback:h}),s=()=>{window.cancelAnimationFrame(m.rafId),u()};window.addEventListener("wheel",s,{passive:!0,once:!0}),window.addEventListener("touchmove",s,{passive:!0,once:!0}),z(m)},dt=t=>t.window===t,ut=t=>(e,o,n)=>{const[r,i]=dt(e)?[O(e.document.documentElement),"Window"]:[e,"Element"],c=o??{};if(!rt(c))throw new TypeError(Q(t,i));if(!J(c.behavior))throw new TypeError(Z(t,i,c.behavior));t==="scrollBy"&&(c.left=p(c.left)+r.scrollLeft,c.top=p(c.top)+r.scrollTop),at(r,c,n)},mt=ut("scroll"),ft=mt,x=t=>{switch(t){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},tt=(t,e,o,n)=>{let r=0;switch(e||(r^=2),t){case 0:r=r>>1|(r&1)<<1,[o,n]=[n,o];break;case 1:case 3:r^=1;break;case 4:r^=2;break}return[r,o,n]},ht=t=>(tt(x(t.writingMode),t.direction!=="rtl",void 0,void 0)[0]&1)===1,wt=(t,e,o)=>{const[n,r,i]=tt(e,o,t.block||"start",t.inline||"nearest");return[r,i].map((c,d)=>{switch(c){case"center":return 1;case"nearest":return 0;default:{const l=n>>d&1;return c==="start"==!l?2:3}}})},C=(t,e,o,n,r,i,c)=>t!==0?t:r<e&&i>o||r>e&&i<o?null:r<=e&&c<=n||i>=o&&c>=n?2:i>o&&c<n||r<e&&c>n?3:null,X=t=>t!=="visible"&&t!=="clip",gt=t=>{var e;try{return((e=t.ownerDocument.defaultView)===null||e===void 0?void 0:e.frameElement)||null}catch{return null}},vt=(t,e)=>t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth?X(e.overflowY)||X(e.overflowX)||t===O(t):!1,$=t=>{const e=t.parentNode,o=t.parentElement;if(o===null&&e!==null){if(e.nodeType===11)return e.host;if(e.nodeType===9)return gt(t)}return o},A=(t,e,o)=>t<e?e:t>o?o:t,pt=t=>["scroll-margin","scroll-snap-margin"].filter(e=>e in t.documentElement.style)[0],yt=(t,e,o)=>{const{top:n,right:r,bottom:i,left:c}=e,d=pt(t.ownerDocument);if(!d)return[n,r,i,c];const l=w=>{const a=o.getPropertyValue(`${d}-${w}`);return parseInt(a,10)||0};return[n-l("top"),r+l("right"),i+l("bottom"),c-l("left")]},v=(t,e,o)=>{switch(t){case 1:return(e+o)/2;case 3:return o;case 2:case 0:return e}},bt=(t,e)=>{var o,n,r;const i=(o=t.ownerDocument.defaultView)===null||o===void 0?void 0:o.visualViewport,[c,d,l,w]=t===O(t)?[0,0,(n=i?.width)!==null&&n!==void 0?n:t.clientWidth,(r=i?.height)!==null&&r!==void 0?r:t.clientHeight]:[e.left,e.top,t.clientWidth,t.clientHeight],a=c+t.clientLeft,u=d+t.clientTop,h=a+l,m=u+w;return[u,h,m,a]},Lt=(t,e)=>{const o=[];let n=t.ownerDocument,r=n.defaultView;if(!r)return o;const i=window.getComputedStyle(t),c=i.direction!=="rtl",d=x(i.writingMode||i.getPropertyValue("-webkit-writing-mode")||i.getPropertyValue("-ms-writing-mode")),[l,w]=wt(e,d,c);let[a,u,h,m]=yt(t,t.getBoundingClientRect(),i);for(let s=$(t);s!==null;s=$(s)){if(n!==s.ownerDocument){if(n=s.ownerDocument,r=n.defaultView,!r)break;const{left:_,top:k}=s.getBoundingClientRect();a+=k,u+=_,h+=k,m+=_}const g=r.getComputedStyle(s);if(g.position==="fixed")break;if(!vt(s,g))continue;const et=s.getBoundingClientRect(),[b,L,E,I]=bt(s,et),S=C(l,I,L,s.clientWidth,m,u,u-m),T=C(w,b,E,s.clientHeight,a,h,h-a),Y=S===null?0:v(S,m,u)-v(S,I,L),ot=T===null?0:v(T,a,h)-v(T,b,E),B=ht(g)?A(Y,-s.scrollWidth+s.clientWidth-s.scrollLeft,-s.scrollLeft):A(Y,-s.scrollLeft,s.scrollWidth-s.clientWidth-s.scrollLeft),q=A(ot,-s.scrollTop,s.scrollHeight-s.clientHeight-s.scrollTop);o.push([s,{left:s.scrollLeft+B,top:s.scrollTop+q,behavior:e.behavior}]),a=Math.max(a-q,b),u=Math.min(u-B,L),h=Math.min(h-q,E),m=Math.max(m-B,I)}return o},F=(t,e,o)=>{const n=e||{};if(!J(n.behavior))throw new TypeError(Z("scrollIntoView","Element",n.behavior));Lt(t,n).forEach(([i,c])=>{ft(i,c,o)})};window.onbeforeunload=function(){window.scrollTo(0,0)};let M=0;function Et(){M&&clearTimeout(M);const t=document.getElementById("middle-element"),e=document.getElementById("end-element");t&&e&&(F(t,{behavior:"smooth"}),M=setTimeout(()=>{F(e,{behavior:"smooth"})},1700))}const It=document.getElementById("sroll-to-end");It?.addEventListener("click",Et);const R=new URL(window.location.href),St=R.hash!==""?R.hash.slice(2):"undefined",y=St.split("/");y[0]==="consent"&&(window.location.href=`/authorize#${y[1]}`);y[0]==="installed"&&(window.location.href=`/installed#${y[1]}`);const Tt=document.querySelectorAll(".today .section"),j=document.querySelector(".scrollIconContainer"),Bt=document.querySelector(".shadow"),qt=document.getElementById("title"),At=document.querySelector(".figuresContainer");document.querySelector(".floatingFigures");const Mt=document.querySelector(".grid"),Dt=document.querySelectorAll(".floatGradient"),D=document.getElementById("mainLogo"),H=document.getElementById("today"),V=document.getElementById("envision"),N=document.getElementById("bleachAnimation");let f=0;const U=document.getElementById("logoSection"),G=50,K=.05,Ht={threshold:.1,rootMargin:"-99% 0% 0%"},Vt=new IntersectionObserver((t,e)=>{t.forEach(o=>{if(o.isIntersecting){if(o.target.id==="animationTrigger"&&f<=0){qt?.classList.add("animate-fadeOut","titleBleach"),o.target.querySelector(".subtitle")?.classList.add("animate-fadeOut","titleBleach"),Mt?.classList.add("animate-fadeOut","figuresBleach"),At?.classList.add("animate-collapse3d","figuresBleach"),Dt.forEach(r=>{r.removeAttribute("style"),r.classList.add("animate-fadeOut","figuresBleach")}),Bt?.classList.add("bg-1");let n=setInterval(()=>{f<1?(f=f+K,document.documentElement.style.setProperty("--bleachProgress",f.toString())):(window.scrollTo(0,window.scrollY+window.innerHeight),clearInterval(n),V?.classList.remove("hidden"),H?.classList.add("translate-y-0"),D?.classList.add("logo--contrast"),U?.classList.remove("opacity-0"))},G)}if(o.target.id==="animationTrigger"&&f>0){V?.classList.add("hidden"),D?.classList.remove("logo--contrast"),H?.classList.remove("translate-y-0"),U?.classList.add("opacity-0");let n=setInterval(()=>{f>0?(f=f-K,document.documentElement.style.setProperty("--bleachProgress",f.toString())):(window.scrollTo(0,window.scrollY-window.innerHeight),clearInterval(n))},G)}o.target.querySelectorAll(".subtitle").forEach(n=>{n.classList.remove("animate-fadeOut","hidden")}),o.target.querySelectorAll(".subtitle").forEach(n=>{n.classList.add("animate-riseIn")})}else o.target.querySelectorAll(".subtitle").forEach(n=>{n.classList.remove("animate-riseIn")}),o.target.querySelectorAll(".subtitle").forEach(n=>{n.classList.add("animate-fadeOut")})})},Ht);Tt.forEach(t=>{Vt.observe(t)});document.addEventListener("scroll",()=>{Ot(),N&&(Pt(N),f===0&&(V?.classList.add("hidden"),H?.classList.remove("translate-y-0"),D?.classList.remove("logo--contrast"))),window.scrollY>400&&(j?.classList.add("opacity-0"),setTimeout(()=>{j?.classList.add("hidden")},400))},{passive:!0});const Ot=()=>{document.documentElement.style.setProperty("--scroll",(window.scrollY/(document.body.offsetHeight-window.innerHeight)).toString())},Pt=t=>{const e=t.getBoundingClientRect();return e.top-window.innerHeight>0?0:e.bottom-window.innerHeight<0?1:Math.abs(e.top-window.innerHeight)/e.height};document.getElementById("envision");document.getElementById("welcomeSection");const Yt=document.querySelectorAll(".envision .section"),_t={threshold:0,rootMargin:"-40% 0% -60%"},kt=new IntersectionObserver((t,e)=>{t.forEach(o=>{o.isIntersecting?(o.target.classList.remove("opacity-0"),o.target.querySelector(".subtitle")?.classList.remove("animate-fadeOut","hidden"),o.target.querySelector(".subtitle")?.classList.add("animate-riseIn"),o.target.querySelector(".title")?.classList.add("animate-riseIn")):(o.target.querySelector(".subtitle")?.classList.remove("animate-riseIn"),o.target.querySelector(".subtitle")?.classList.add("'animate-fadeOut'"),o.target.querySelector(".title")?.classList.remove("animate-riseIn"),o.target.classList.add("opacity-0"))})},_t);Yt.forEach(t=>{kt.observe(t)});const Wt=document.querySelectorAll(".floatIcon"),Ct=1200;Wt.forEach(t=>{t.style.animationDelay=Ct+Math.floor(Math.random()*4200)+"ms"});
