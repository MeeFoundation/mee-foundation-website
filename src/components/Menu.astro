---
export interface Props {}

const {} = Astro.props;

export const links = [
  // {name: "For You", link:"/how-mee-works"},
  {
    name: 'Businesses',
    link: '/for-providers',
  },
  {name: 'Developers', link: 'https://docs.mee.foundation'},
  // {name: "Blog", link:"/blog"},
  {
    name: 'Downloads',
    link: '/downloads',
  },
  {
    name: 'About Us',
    link: '/about',
  },
];
---

<section
  class="flex flex-col items-end gap-5 font-extrabold lg:flex-row-reverse"
>
  <button
    id="menuToggle"
    class="menu__item z-10 flex min-h-[34px] flex-row justify-center overflow-hidden px-3.5 py-2.5 md:min-h-[28px] md:px-[13px] md:py-[7px]"
    ><span class="">Menu</span></button
  >
  <ul
    id="nav"
    class="nav absolute top-17.5 z-10 flex flex-col items-end gap-5 max-lg:h-0 max-lg:overflow-y-hidden lg:static lg:top-0 lg:h-auto lg:w-0 lg:flex-row lg:overflow-hidden"
  >
    {
      links.map((link) => (
        <li
          class:list={[
            'text menu__item min-h-[34px] md:min-h-[28px] py-2.5 px-3.5 md:py-[7px] md:px-[13px] cursor-pointer',
            {
              'border-2 border-primary': Astro.url.pathname.startsWith(
                link.link,
              ),
            },
          ]}
        >
          <a href={link.link} class="flex flex-row overflow-hidden">
            {link.name}
          </a>
        </li>
      ))
    }
  </ul>
  <div
    id="backdrop"
    class="absolute left-0 top-0 z-0 h-screen max-h-0 w-full bg-gray-dark opacity-0 transition-all duration-500 ease-linear lg:hidden"
  >
  </div>
</section>

<style is:global>
  .text {
    -webkit-font-smoothing: antialiased;
    font-smoothing: antialiased;
    backface-visibility: hidden;
  }
  .nav {
    margin-block-start: 0;
    margin-block-end: 0;
    transition-property: width, height;
    transition-duration: 400ms;
    transition-timing-function: ease-in;
  }
  .nav--active {
    width: 100%;
    height: 100%;
    transition-timing-function: ease-out;
  }
  .menu__item {
    display: flex;
    font-size: 14px;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    padding-top: -4px;
    margin-top: 8px;
    margin-bottom: 5px;
    line-height: 1;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    border-radius: 40px;
    color: rgba(0, 0, 0, 0.8);
    background-color: #fff;
    box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.12);
    width: fit-content;
    min-width: 78px;
    text-align: center;
    transition: transform 0.44s ease, background-color 0.5s ease-in,
      opacity 0.1s ease 0.44s;
    backface-visibility: hidden;
    -webkit-transform: translate3d(0, 0, 0);
    -webkit-transform-style: preserve-3d;
  }
  .menu__item:first-child {
    margin-left: 4px;
  }
  .menu__item:last-child {
    margin-right: 4px;
  }

  li.menu__item:hover {
    transform: translateY(-4px);
  }
  .menu__item--active {
    transition-timing-function: ease-out;
    background-color: #ffdf80;
    width: 78px;
  }
  .menu__item a {
    text-shadow: 0 14px 0 rgba(0, 0, 0, 0.8);
    white-space: nowrap;
  }
  .nav .menu__item span {
    display: block;
    backface-visibility: hidden;
    white-space: pre;
    -webkit-transform: translate3d(0, 0, 0);
    -webkit-transform-style: preserve-3d;
    transition: transform 0.44s ease, opacity 0.25s ease-in;
  }
  .menu__item--active span {
    transition: transform 0.44s ease, opacity 0.25s ease-out;
  }
  .nav .menu__item:hover span {
    transform: translateY(-14px);
  }
</style>
